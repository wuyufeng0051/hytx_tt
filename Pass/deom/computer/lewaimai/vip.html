<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="css/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jquery.yiiactiveform.js"></script>
    <script type="text/javascript" src="js/jquery.ba-bbq.js"></script>
    <title>乐外卖 - 财务统计</title>
      <link rel="stylesheet" href="css/bootstrap.min.css" />
      <link rel="stylesheet" href="css/font-awesome.min.css" />
      <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
      <link rel="stylesheet" href="css/chosen.min.css" />
      <link rel="stylesheet" href="css/ace-fonts.min.css" />
      <link rel="stylesheet" href="css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style" />
      <script src="js/jquery-migrate-1.1.0.min.js"></script>
  </head>
  <body class="no-skin">
      <div class="main-content">
        <div class="breadcrumbs" id="breadcrumbs">
          <ul class="breadcrumb">
            <i class="ace-icon fa fa-bar-chart-o bar-chart-o-icon"></i>
            <li class="active">统计</li>
            <li class="active">会员统计</li>
            <li class="active">会员分析</li></ul>
        </div>
        <!-- /section:basics/content.breadcrumbs -->
        <div class="page-content">
          <!-- /section:settings.box -->
          <div class="page-content-area">
            <script type="text/javascript" src="js/highcharts.js"></script>
            <script src="js/jquery.easypiechart.min.js"></script>
            <script src="js/jquery.sparkline.min.js"></script>
            <script src="js/jquery.flot.min.js"></script>
            <script src="js/jquery.flot.pie.min.js"></script>
            <script src="js/jquery.flot.resize.min.js"></script>
            <div class="row">
              <div class="col-sm-12">
                <div class="tabbable">
                  <ul class="nav nav-tabs" id="myTab">
                    <li class="active">
                      <a href="#">会员分析</a></li>
                    <li>
                      <a href="#">会员数量</a></li>
                    <li>
                      <a href="#">充值金额统计</a></li>
                    <li>
                      <a href="#">收银机帐号充值金额统计</a></li>
                    <li>
                      <a href="#">收银机帐号充值详情</a></li>
                    <li>
                      <a href="#">后台充值金额统计</a></li>
                    <li>
                      <a href="#">后台充值详情</a></li>
                    <li>
                      <a href="#">在线充值详情</a></li>
                    <li>
                      <a href="#">会员消费统计</a></li>
                  </ul>
                  <div class="tab-content">
                    <div class="row">
                      <div class="col-sm-12 infobox-container">
                        <div class="infobox infobox-pink" style="width:200px;">
                          <div class="infobox-icon">
                            <i class="ace-icon fa fa-star"></i>
                          </div>
                          <div class="infobox-data">
                            <span class="infobox-data-number" style="font-size: 18px;">5人</span>
                            <div class="infobox-content">会员总数</div></div>
                        </div>
                        <div class="infobox infobox-orange2" style="width:300px;">
                          <div class="infobox-icon">
                            <i class="ace-icon fa fa-cny"></i>
                          </div>
                          <div class="infobox-data" style="width:200px;">
                            <span class="infobox-data-number">0.98</span>
                            <div style="width:200px;color:#555;">所有会员未消费的会员总余额</div></div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-6">
                        <div class="widget-box">
                          <div class="widget-header widget-header-flat widget-header-small">
                            <h5 class="widget-title">
                              <i class="ace-icon fa fa-signal"></i>会员数量分析</h5>
                          </div>
                          <div class="widget-body">
                            <div class="widget-main">
                              <!-- #section:plugins/charts.flotchart -->
                              <div id="piechart-placeholder" style="width: 60%; min-height: 150px; padding: 0px; position: relative;">
                                <canvas class="flot-base" width="471" height="150" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 471px; height: 150px;"></canvas>
                                <canvas class="flot-overlay" width="471" height="150" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 471px; height: 150px;"></canvas>
                                <div class="legend">
                                  <div style="position: absolute; width: 66px; height: 66px; top: 15px; right: -30px; background-color: rgb(255, 255, 255); opacity: 0.85;"></div>
                                  <table style="position:absolute;top:15px;right:-30px;;font-size:smaller;color:#545454">
                                    <tbody>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #68BC31;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">男性会员</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #2091CF;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">女性会员</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #AF4E96;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">其他会员</td></tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                              <!-- /section:plugins/charts.flotchart -->
                              <div class="hr hr8 hr-double"></div>
                              <div class="clearfix">
                                <!-- #section:custom/extra.grid -->
                                <div class="grid3">
                                  <span class="grey">
                                    <i class="ace-icon fa fa-facebook-square fa-2x blue fa fa-mars"></i>&nbsp; 男</span>
                                  <h4 class="bigger pull-right">2</h4></div>
                                <div class="grid3">
                                  <span class="grey">
                                    <i class="ace-icon fa fa-twitter-square fa-2x purple fa fa-venus"></i>&nbsp; 女</span>
                                  <h4 class="bigger pull-right">3</h4></div>
                                <div class="grid3">
                                  <span class="grey">
                                    <i class="ace-icon fa fa-pinterest-square fa-2x red fa fa-transgender-alt"></i>&nbsp; 其他</span>
                                  <h4 class="bigger pull-right">0</h4></div>
                                <!-- /section:custom/extra.grid --></div>
                            </div>
                            <!-- /.widget-main --></div>
                          <!-- /.widget-body --></div>
                        <!-- /.widget-box --></div>
                      <!-- /.col -->
                      <div class="col-sm-6">
                        <div class="widget-box">
                          <div class="widget-header widget-header-flat widget-header-small">
                            <h5 class="widget-title">
                              <i class="ace-icon fa fa-signal"></i>会员年龄分析</h5>
                          </div>
                          <div class="widget-body">
                            <div class="widget-main">
                              <!-- #section:plugins/charts.flotchart -->
                              <div id="piechart-placeholder-age" style="width: 60%; min-height: 150px; padding: 0px; position: relative;">
                                <canvas class="flot-base" width="471" height="150" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 471px; height: 150px;"></canvas>
                                <canvas class="flot-overlay" width="471" height="150" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 471px; height: 150px;"></canvas>
                                <div class="legend">
                                  <div style="position: absolute; width: 68px; height: 132px; top: 15px; right: -30px; background-color: rgb(255, 255, 255); opacity: 0.85;"></div>
                                  <table style="position:absolute;top:15px;right:-30px;;font-size:smaller;color:#545454">
                                    <tbody>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #68BC31;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">18岁以下</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #2091CF;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">18~24岁</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #AF4E96;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">25~29岁</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #DA5430;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">30~34岁</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #FEE074;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">35岁以上</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #8E8E8E;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">未知</td></tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                              <!-- /section:plugins/charts.flotchart -->
                              <div class="hr hr8 hr-double"></div>
                              <div class="clearfix">
                                <!-- #section:custom/extra.grid -->
                                <div class="grid3">
                                  <span class="grey">&nbsp; 18岁以下</span>
                                  <h4 class="bigger pull-right">1</h4></div>
                                <div class="grid3">
                                  <span class="grey">&nbsp; 18~24岁</span>
                                  <h4 class="bigger pull-right">3</h4></div>
                                <div class="grid3">
                                  <span class="grey">&nbsp; 25~29岁</span>
                                  <h4 class="bigger pull-right">1</h4></div>
                                <div class="grid3" style="border-left:#FFFFFF;">
                                  <span class="grey">&nbsp; 30~34岁</span>
                                  <h4 class="bigger pull-right">0</h4></div>
                                <div class="grid3">
                                  <span class="grey">&nbsp; 35岁以上</span>
                                  <h4 class="bigger pull-right">0</h4></div>
                                <div class="grid3">
                                  <span class="grey">&nbsp; 未知</span>
                                  <h4 class="bigger pull-right">0</h4></div>
                                <!-- /section:custom/extra.grid --></div>
                            </div>
                            <!-- /.widget-main --></div>
                          <!-- /.widget-body --></div>
                        <!-- /.widget-box --></div>
                      <!-- /.col -->
                      <div class="col-sm-6">
                        <div class="widget-box">
                          <div class="widget-header widget-header-flat widget-header-small">
                            <h5 class="widget-title">
                              <i class="ace-icon fa fa-signal"></i>会员余额分析</h5>
                          </div>
                          <div class="widget-body">
                            <div class="widget-main">
                              <!-- #section:plugins/charts.flotchart -->
                              <div id="piechart-placeholder-balance" style="width: 60%; min-height: 150px; padding: 0px; position: relative;">
                                <canvas class="flot-base" width="471" height="150" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 471px; height: 150px;"></canvas>
                                <canvas class="flot-overlay" width="471" height="150" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 471px; height: 150px;"></canvas>
                                <div class="legend">
                                  <div style="position: absolute; width: 91px; height: 88px; top: 15px; right: -30px; background-color: rgb(255, 255, 255); opacity: 0.85;"></div>
                                  <table style="position:absolute;top:15px;right:-30px;;font-size:smaller;color:#545454">
                                    <tbody>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #68BC31;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">余额为0</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #2091CF;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">余额小于100</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #AF4E96;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">余额100~500</td></tr>
                                      <tr>
                                        <td class="legendColorBox">
                                          <div style="border:1px solid null;padding:1px">
                                            <div style="width:4px;height:0;border:5px solid #DA5430;overflow:hidden"></div>
                                          </div>
                                        </td>
                                        <td class="legendLabel">余额大于500</td></tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                              <!-- /section:plugins/charts.flotchart -->
                              <div class="hr hr8 hr-double"></div>
                              <div class="clearfix">
                                <!-- #section:custom/extra.grid -->
                                <div class="grid3">
                                  <span class="grey">&nbsp; 余额为0</span>
                                  <h4 class="bigger pull-right">4</h4></div>
                                <div class="grid3">
                                  <span class="grey">&nbsp; 余额小于100</span>
                                  <h4 class="bigger pull-right">1</h4></div>
                                <div class="grid3">
                                  <span class="grey">&nbsp; 余额100至500</span>
                                  <h4 class="bigger pull-right">0</h4></div>
                                <div class="grid3" style="border-left:#FFFFFF;">
                                  <span class="grey">&nbsp; 余额大于500</span>
                                  <h4 class="bigger pull-right">0</h4></div>
                                <!-- /section:custom/extra.grid --></div>
                            </div>
                            <!-- /.widget-main --></div>
                          <!-- /.widget-body --></div>
                        <!-- /.widget-box --></div>
                      <!-- /.col --></div>
                  </div>
                </div>
              </div>
            </div>
            <script>var malepercent = 0.4;
              var femalepercent = 0.62;
              var othermalepercent = 0;
              var age1 = 0.2;
              var age2 = 0.6;
              var age3 = 0.2;
              var age4 = 0;
              var age5 = 0;
              var age6 = 0;
              var balance1 = 0.8;
              var balance2 = 0.2;
              var balance3 = 0;
              var balance4 = 0;
              jQuery(function($) {
                //flot chart resize plugin, somehow manipulates default browser resize event to optimize it!
                //but sometimes it brings up errors with normal resize event handlers
                $.resize.throttleWindow = false;

                var placeholder = $('#piechart-placeholder').css({
                  'width': '60%',
                  'min-height': '150px'
                });
                var data = [{
                  label: "男性会员",
                  data: malepercent,
                  color: "#68BC31"
                },
                {
                  label: "女性会员",
                  data: femalepercent,
                  color: "#2091CF"
                },
                {
                  label: "其他会员",
                  data: othermalepercent,
                  color: "#AF4E96"
                },
                ]
                var placeholder1 = $('#piechart-placeholder-age').css({
                  'width': '60%',
                  'min-height': '150px'
                });
                var data1 = [{
                  label: "18岁以下",
                  data: age1,
                  color: "#68BC31"
                },
                {
                  label: "18~24岁",
                  data: age2,
                  color: "#2091CF"
                },
                {
                  label: "25~29岁",
                  data: age3,
                  color: "#AF4E96"
                },
                {
                  label: "30~34岁",
                  data: age4,
                  color: "#DA5430"
                },
                {
                  label: "35岁以上",
                  data: age5,
                  color: "#FEE074"
                },
                {
                  label: "未知",
                  data: age6,
                  color: "#8E8E8E"
                },
                ]
                var placeholder2 = $('#piechart-placeholder-balance').css({
                  'width': '60%',
                  'min-height': '150px'
                });
                var data2 = [{
                  label: "余额为0",
                  data: balance1,
                  color: "#68BC31"
                },
                {
                  label: "余额小于100",
                  data: balance2,
                  color: "#2091CF"
                },
                {
                  label: "余额100~500",
                  data: balance3,
                  color: "#AF4E96"
                },
                {
                  label: "余额大于500",
                  data: balance4,
                  color: "#DA5430"
                },
                ]
                function drawPieChart(placeholder, data, position) {
                  $.plot(placeholder, data, {
                    series: {
                      pie: {
                        show: true,
                        tilt: 0.8,
                        highlight: {
                          opacity: 0.25
                        },
                        stroke: {
                          color: '#fff',
                          width: 2
                        },
                        startAngle: 2
                      }
                    },
                    legend: {
                      show: true,
                      position: position || "ne",
                      labelBoxBorderColor: null,
                      margin: [ - 30, 15]
                    },
                    grid: {
                      hoverable: true,
                      clickable: true
                    }
                  })
                }
                drawPieChart(placeholder, data);
                drawPieChart(placeholder1, data1);
                drawPieChart(placeholder2, data2);

                /**
       we saved the drawing function and the data to redraw with different position later when switching to RTL mode dynamically
       so that's not needed actually.
       */
                placeholder.data('chart', data);
                placeholder.data('draw', drawPieChart);

                placeholder1.data('chart', data1);
                placeholder1.data('draw', drawPieChart);

                placeholder2.data('chart', data2);
                placeholder2.data('draw', drawPieChart);

                //pie chart tooltip example
                var $tooltip = $("<div class='tooltip top in'><div class='tooltip-inner'></div></div>").hide().appendTo('body');
                var previousPoint = null;
                var previousPoint1 = null;
                var previousPoint2 = null;

                placeholder.on('plothover',
                function(event, pos, item) {
                  if (item) {
                    if (previousPoint != item.seriesIndex) {
                      previousPoint = item.seriesIndex;
                      var tip = item.series['label'] + " : " + item.series['percent'].toFixed(2) + '%';
                      $tooltip.show().children(0).text(tip);
                    }
                    $tooltip.css({
                      top: pos.pageY + 10,
                      left: pos.pageX + 10
                    });
                  } else {
                    $tooltip.hide();
                    previousPoint = null;
                  }

                });
                placeholder1.on('plothover',
                function(event, pos, item) {
                  if (item) {
                    if (previousPoint1 != item.seriesIndex) {
                      previousPoint1 = item.seriesIndex;
                      var tip = item.series['label'] + " : " + item.series['percent'].toFixed(2) + '%';
                      $tooltip.show().children(0).text(tip);
                    }
                    $tooltip.css({
                      top: pos.pageY + 10,
                      left: pos.pageX + 10
                    });
                  } else {
                    $tooltip.hide();
                    previousPoint1 = null;
                  }

                });

                placeholder2.on('plothover',
                function(event, pos, item) {
                  if (item) {
                    if (previousPoint2 != item.seriesIndex) {
                      previousPoint2 = item.seriesIndex;
                      var tip = item.series['label'] + " : " + item.series['percent'].toFixed(2) + '%';
                      $tooltip.show().children(0).text(tip);
                    }
                    $tooltip.css({
                      top: pos.pageY + 10,
                      left: pos.pageX + 10
                    });
                  } else {
                    $tooltip.hide();
                    previousPoint2 = null;
                  }

                });

              })</script>
          </div>
        </div>
      </div>
        <!-- /.main-content -->
      <!-- page specific plugin scripts -->
      <script src="js/jquery-ui.min.js"></script>
      <script src="js/jquery.ui.touch-punch.min.js"></script>
      <script src="js/jquery.easypiechart.min.js"></script>
      <script src="js/jquery.sparkline.min.js"></script>

      <!-- 这里是与新订单提醒相关的内容 -->
      <script type="text/javascript" src="js/jquery-ui-i18n.min.js"></script>
      <script type="text/javascript" src="js/public_select.js"></script>
  </body>

</html>