<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>泸西微城</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no" >
    <link rel="stylesheet" href="__PUBLIC__/Home/css/mui.min.css">
    <link rel="stylesheet" href="__PUBLIC__/Home/css/DateSelector.css">
    <style>
        .input{
            margin-top: 20px;
            background:#fff;
        }
        .input input{
            margin-bottom: 0;
            border-right: 0;
            border-left: 0;
            border-radius: 0;
        }
        .btn{
            margin-top: 50px;
            line-height: 44px;
            padding: 10px;
        }
        .btn button{
            width: 100%;
            background: #ff7300;
            color: #fff;
            line-height: 40px;
            height: 40px;
            padding: 0;
            border:none;
        }
        .date-selector-btn-box{
            background: #ff7400;
        }
    </style>
</head>
<body>

<include file="Public/share" title='包含文件'/>

    <div class="input">
        <input type="text" value="1993-12-1" id="date-selector-inputs" readonly="">
    </div>
    <div class="btn">
        <button class="">保存</button>
    </div>
    <div id="targetContainers"></div>
    <script src="__PUBLIC__/Home/js/zepto.min.js"></script>
    <script src="__PUBLIC__/Home/js/DateSelector.js"></script>
    <script src="__PUBLIC__/Home/js/jquery.min.js"></script>
    <script src="__PUBLIC__/Home/js/layer.js"></script>
    <script>
        new DateSelector({
            input : 'date-selector-inputs',//点击触发插件的input框的id
            container : 'targetContainers',//插件插入的容器id
            type : 0,
            //0：不需要tab切换，自定义滑动内容，建议小于三个；
            //1：需要tab切换，【年月日】【时分】完全展示，固定死，可设置开始年份和结束年份
            param : [1,1,1,0,0],
            //设置['year','month','day','hour','minute'],1为需要，0为不需要,需要连续的1
            beginTime : [],//如空数组默认设置成1970年1月1日0时0分开始，如需要设置开始时间点，数组的值对应param参数的对应值。
            endTime : [],//如空数组默认设置成次年12月31日23时59分结束，如需要设置结束时间点，数组的值对应param参数的对应值。
            recentTime : [],//如不需要设置当前时间，被为空数组，如需要设置的开始的时间点，数组的值对应param参数的对应值。
            success : function(arr){
                console.log(arr);
                var res=arr[0]+'-'+arr[1]+'-'+arr[2];
                console.log(res);
                $('#date-selector-inputs').val(res)
            }//回调
        });

        function req(){
            location.href='__MODULE__/Index/profile';
            //location= document.referrer
            //history.go(-1);
        }
        //
        $('button').click(function(){

            var brith = $('#date-selector-inputs').val();
            if(brith==''){
                layer.msg('请选择生日');
                return ;
            }


            $.post('__MODULE__/EditUser/EditBrithday',{brith:brith},function(msg){
//              alert(msg);
                if(msg == 1){
                    layer.msg('已保存');
                    setTimeout('req()',1500);

                }else{

                    layer.msg(msg);
                }

            })
        })
    </script>
</body>
</html>